RewriteEngine On
RewriteBase /

# Rule for regular surveys
RewriteRule ^s/([0-9]+)$ fbs/public/survey_page.php?survey_id=$1 [L]
RewriteRule ^share/s/([0-9]+)$ fbs/public/share_page.php?survey_id=$1 [L]

# Rule for tracker programs
RewriteRule ^t/([0-9]+)$ fbs/public/tracker_program_form.php?survey_id=$1 [L]
RewriteRule ^share/t/([0-9]+)$ fbs/public/tracker_share.php?survey_id=$1 [L]

# Rule for tracker submission endpoint
RewriteRule ^t/tracker_program_submit.php$ fbs/public/tracker_program_submit.php [L]

# Thank you page URLs
RewriteRule ^thank-you/([a-zA-Z0-9]+)$ fbs/public/thank_you_simple.php?uid=$1 [L]
RewriteRule ^tracker-success/([0-9]+)$ fbs/public/tracker_program_success.php?survey_id=$1 [L]
RewriteRule ^tracker-success/([0-9]+)/([0-9]+)$ fbs/public/tracker_program_success.php?survey_id=$1&submission_id=$2 [L]

# Handle /fbs/ directory requests - auto-append .php for admin pages
RewriteCond %{REQUEST_URI} ^/fbs/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^fbs/(.*)$ fbs/$1.php [L]




# RewriteEngine On
# RewriteBase /

# # Rule for regular surveys
# RewriteRule ^s/([0-9]+)$ survey-engine/fbs/public/survey_page.php?survey_id=$1 [L]
# RewriteRule ^share/s/([0-9]+)$ survey-engine/fbs/public/share_page.php?survey_id=$1 [L]

# # Rule for tracker programs
# RewriteRule ^t/([0-9]+)$ survey-engine/fbs/public/tracker_program_form.php?survey_id=$1 [L]
# RewriteRule ^share/t/([0-9]+)$ survey-engine/fbs/public/tracker_share.php?survey_id=$1 [L]

# # Rule for tracker submission endpoint
# RewriteRule ^t/tracker_program_submit.php$ survey-engine/fbs/public/tracker_program_submit.php [L]

# # Thank you page URLs
# RewriteRule ^thank-you/([a-zA-Z0-9]+)$ survey-engine/fbs/public/thank_you_simple.php?uid=$1 [L]
# RewriteRule ^tracker-success/([0-9]+)$ survey-engine/fbs/public/tracker_program_success.php?survey_id=$1 [L]
# RewriteRule ^tracker-success/([0-9]+)/([0-9]+)$ survey-engine/fbs/public/tracker_program_success.php?survey_id=$1&submission_id=$2 [L]

# # Handle /fbs/ directory requests - auto-append .php for admin pages
# RewriteCond %{REQUEST_URI} ^/survey-engine/fbs/
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^survey-engine/fbs/(.*)$ survey-engine/fbs/$1.php [L]